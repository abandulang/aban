const _0x44105a=_0x5af7;(function(_0x44366e,_0x5ab672){const _0x5d7dc0=_0x5af7,_0x2178c8=_0x44366e();while(!![]){try{const _0x226363=-parseInt(_0x5d7dc0(0x16f))/0x1*(parseInt(_0x5d7dc0(0x164))/0x2)+-parseInt(_0x5d7dc0(0x13b))/0x3*(-parseInt(_0x5d7dc0(0x172))/0x4)+-parseInt(_0x5d7dc0(0x147))/0x5+parseInt(_0x5d7dc0(0x171))/0x6*(-parseInt(_0x5d7dc0(0x15d))/0x7)+-parseInt(_0x5d7dc0(0x166))/0x8+parseInt(_0x5d7dc0(0x157))/0x9*(parseInt(_0x5d7dc0(0x152))/0xa)+parseInt(_0x5d7dc0(0x156))/0xb;if(_0x226363===_0x5ab672)break;else _0x2178c8['push'](_0x2178c8['shift']());}catch(_0x33150d){_0x2178c8['push'](_0x2178c8['shift']());}}}(_0x2710,0xd34e1),require('./module'));function _0x5af7(_0x282479,_0x136476){const _0x2710be=_0x2710();return _0x5af7=function(_0x5af7ff,_0x5cbeac){_0x5af7ff=_0x5af7ff-0x139;let _0x36508d=_0x2710be[_0x5af7ff];return _0x36508d;},_0x5af7(_0x282479,_0x136476);}async function imageToWebp(_0x581e0a){const _0x361b6f=_0x5af7,_0x4f76ac=path[_0x361b6f(0x139)](os[_0x361b6f(0x173)](),crypto[_0x361b6f(0x14f)](0x6)[_0x361b6f(0x149)](0x0,0x6)[_0x361b6f(0x13a)](0x24)+_0x361b6f(0x146)),_0x1e576f=path[_0x361b6f(0x139)](os[_0x361b6f(0x173)](),crypto[_0x361b6f(0x14f)](0x6)[_0x361b6f(0x149)](0x0,0x6)[_0x361b6f(0x13a)](0x24)+_0x361b6f(0x141));fs[_0x361b6f(0x140)](_0x1e576f,_0x581e0a),await new Promise((_0x2a231e,_0x3b428b)=>{const _0x1d4e63=_0x361b6f;ffmpeg(_0x1e576f)['on'](_0x1d4e63(0x153),_0x3b428b)['on']('end',()=>_0x2a231e(!![]))[_0x1d4e63(0x174)]([_0x1d4e63(0x16d),'libwebp','-vf',_0x1d4e63(0x165)])['toFormat'](_0x1d4e63(0x170))[_0x1d4e63(0x16c)](_0x4f76ac);});const _0x553f2e=fs[_0x361b6f(0x14b)](_0x4f76ac);return fs[_0x361b6f(0x14e)](_0x4f76ac),fs[_0x361b6f(0x14e)](_0x1e576f),_0x553f2e;}async function videoToWebp(_0x40de54){const _0x41cc32=_0x5af7,_0x6d9da9=path[_0x41cc32(0x139)](os[_0x41cc32(0x173)](),crypto['randomBytes'](0x6)[_0x41cc32(0x149)](0x0,0x6)[_0x41cc32(0x13a)](0x24)+_0x41cc32(0x146)),_0x2513c7=path[_0x41cc32(0x139)](os[_0x41cc32(0x173)](),crypto[_0x41cc32(0x14f)](0x6)['readUIntLE'](0x0,0x6)[_0x41cc32(0x13a)](0x24)+'.mp4');fs[_0x41cc32(0x140)](_0x2513c7,_0x40de54),await new Promise((_0x580d41,_0x5ae095)=>{const _0x484790=_0x41cc32;ffmpeg(_0x2513c7)['on']('error',_0x5ae095)['on'](_0x484790(0x167),()=>_0x580d41(!![]))[_0x484790(0x174)](['-vcodec',_0x484790(0x158),'-vf','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse',_0x484790(0x14d),'0',_0x484790(0x160),_0x484790(0x15e),'-t',_0x484790(0x161),'-preset','default','-an',_0x484790(0x14c),'0'])[_0x484790(0x145)](_0x484790(0x170))[_0x484790(0x16c)](_0x6d9da9);});const _0x5d491b=fs['readFileSync'](_0x6d9da9);return fs[_0x41cc32(0x14e)](_0x6d9da9),fs[_0x41cc32(0x14e)](_0x2513c7),_0x5d491b;}async function writeExifImg(_0x4c28e5,_0x2e6024){const _0x2c3738=_0x5af7;let _0xab6ad=await imageToWebp(_0x4c28e5);const _0x10ac7d=path[_0x2c3738(0x139)](os[_0x2c3738(0x173)](),crypto[_0x2c3738(0x14f)](0x6)[_0x2c3738(0x149)](0x0,0x6)['toString'](0x24)+_0x2c3738(0x146)),_0x1aa486=path[_0x2c3738(0x139)](os[_0x2c3738(0x173)](),crypto['randomBytes'](0x6)[_0x2c3738(0x149)](0x0,0x6)[_0x2c3738(0x13a)](0x24)+_0x2c3738(0x146));fs['writeFileSync'](_0x10ac7d,_0xab6ad);if(_0x2e6024[_0x2c3738(0x13e)]||_0x2e6024[_0x2c3738(0x175)]){const _0xf98565=new webp[(_0x2c3738(0x13f))](),_0x37ec1f={'sticker-pack-name':_0x2e6024[_0x2c3738(0x13e)],'sticker-pack-publisher':_0x2e6024[_0x2c3738(0x175)],'emojis':_0x2e6024['categories']?_0x2e6024['categories']:['']},_0x575b33=Buffer[_0x2c3738(0x142)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x4b3d7b=Buffer[_0x2c3738(0x142)](JSON['stringify'](_0x37ec1f),_0x2c3738(0x159)),_0x21077a=Buffer[_0x2c3738(0x14a)]([_0x575b33,_0x4b3d7b]);return _0x21077a['writeUIntLE'](_0x4b3d7b[_0x2c3738(0x16a)],0xe,0x4),await _0xf98565['load'](_0x10ac7d),fs[_0x2c3738(0x14e)](_0x10ac7d),_0xf98565[_0x2c3738(0x162)]=_0x21077a,await _0xf98565['save'](_0x1aa486),_0x1aa486;}}function x00b1(_0x575011){const _0x3c66de=_0x5af7;return _0x575011['map'](_0x57045b=>String[_0x3c66de(0x15c)](_0x57045b))[_0x3c66de(0x139)]('');}async function writeExifVid(_0x52945a,_0xcd9428){const _0x49f1ca=_0x5af7;let _0x1bb346=await videoToWebp(_0x52945a);const _0x56493c=path[_0x49f1ca(0x139)](os['tmpdir'](),crypto[_0x49f1ca(0x14f)](0x6)['readUIntLE'](0x0,0x6)[_0x49f1ca(0x13a)](0x24)+'.webp'),_0x42a534=path[_0x49f1ca(0x139)](os[_0x49f1ca(0x173)](),crypto['randomBytes'](0x6)[_0x49f1ca(0x149)](0x0,0x6)['toString'](0x24)+'.webp');fs[_0x49f1ca(0x140)](_0x56493c,_0x1bb346);if(_0xcd9428['packname']||_0xcd9428[_0x49f1ca(0x175)]){const _0xc52a2f=new webp['Image'](),_0x8f9ae4={'sticker-pack-name':_0xcd9428[_0x49f1ca(0x13e)],'sticker-pack-publisher':_0xcd9428[_0x49f1ca(0x175)],'emojis':_0xcd9428[_0x49f1ca(0x169)]?_0xcd9428[_0x49f1ca(0x169)]:['']},_0x593024=Buffer[_0x49f1ca(0x142)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0xadef04=Buffer[_0x49f1ca(0x142)](JSON[_0x49f1ca(0x16e)](_0x8f9ae4),'utf-8'),_0x58e71f=Buffer['concat']([_0x593024,_0xadef04]);return _0x58e71f[_0x49f1ca(0x148)](_0xadef04[_0x49f1ca(0x16a)],0xe,0x4),await _0xc52a2f[_0x49f1ca(0x15b)](_0x56493c),fs[_0x49f1ca(0x14e)](_0x56493c),_0xc52a2f[_0x49f1ca(0x162)]=_0x58e71f,await _0xc52a2f[_0x49f1ca(0x16c)](_0x42a534),_0x42a534;}}async function writeExif(_0x2d46e7,_0x363fca){const _0xf70674=_0x5af7;let _0x50ed6d=/webp/[_0xf70674(0x155)](_0x2d46e7[_0xf70674(0x143)])?_0x2d46e7['data']:/image/['test'](_0x2d46e7[_0xf70674(0x143)])?await imageToWebp(_0x2d46e7[_0xf70674(0x15a)]):/video/['test'](_0x2d46e7[_0xf70674(0x143)])?await videoToWebp(_0x2d46e7[_0xf70674(0x15a)]):'';const _0x85cf34=path[_0xf70674(0x139)](os[_0xf70674(0x173)](),crypto[_0xf70674(0x14f)](0x6)[_0xf70674(0x149)](0x0,0x6)[_0xf70674(0x13a)](0x24)+_0xf70674(0x146)),_0x177372=path['join'](os['tmpdir'](),crypto[_0xf70674(0x14f)](0x6)[_0xf70674(0x149)](0x0,0x6)[_0xf70674(0x13a)](0x24)+_0xf70674(0x146));fs[_0xf70674(0x140)](_0x85cf34,_0x50ed6d);if(_0x363fca[_0xf70674(0x13e)]||_0x363fca['author']){const _0xe8cdd1=new webp[(_0xf70674(0x13f))](),_0x23ef7d={'sticker-pack-name':_0x363fca[_0xf70674(0x13e)],'sticker-pack-publisher':_0x363fca[_0xf70674(0x175)],'emojis':_0x363fca[_0xf70674(0x169)]?_0x363fca[_0xf70674(0x169)]:['']},_0x4f2921=Buffer[_0xf70674(0x142)]([0x49,0x49,0x2a,0x0,0x8,0x0,0x0,0x0,0x1,0x0,0x41,0x57,0x7,0x0,0x0,0x0,0x0,0x0,0x16,0x0,0x0,0x0]),_0x366538=Buffer['from'](JSON[_0xf70674(0x16e)](_0x23ef7d),_0xf70674(0x159)),_0x24f682=Buffer[_0xf70674(0x14a)]([_0x4f2921,_0x366538]);return _0x24f682[_0xf70674(0x148)](_0x366538['length'],0xe,0x4),await _0xe8cdd1['load'](_0x85cf34),fs[_0xf70674(0x14e)](_0x85cf34),_0xe8cdd1[_0xf70674(0x162)]=_0x24f682,await _0xe8cdd1[_0xf70674(0x16c)](_0x177372),_0x177372;}}function _0x2710(){const _0x22e760=['save','-vcodec','stringify','2LstoGt','webp','54iExqbb','40qYvzPj','tmpdir','addOutputOptions','author','join','toString','163230MKVNRG','redBright','videoToWebp','packname','Image','writeFileSync','.jpg','from','mimetype','writeExifVid','toFormat','.webp','4134355UxeQHf','writeUIntLE','readUIntLE','concat','readFileSync','-vsync','-loop','unlinkSync','randomBytes','unwatchFile','Update\x20','82930wopevP','error','resolve','test','18371969WFUJje','747lrYBIK','libwebp','utf-8','data','load','fromCharCode','125377JeybMS','00:00:00','x00b1','-ss','00:00:05','exif','cache','630254rsnxVb','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,\x20pad=320:320:-1:-1:color=white@0.0,\x20split\x20[a][b];\x20[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];\x20[b][p]\x20paletteuse','3350152kIMJyB','end','watchFile','categories','length','writeExifImg'];_0x2710=function(){return _0x22e760;};return _0x2710();}global[_0x44105a(0x15f)]=x00b1,global['imageToWebp']=imageToWebp,global[_0x44105a(0x13d)]=videoToWebp,global[_0x44105a(0x16b)]=writeExifImg,global[_0x44105a(0x144)]=writeExifVid,global['writeExif']=writeExif;let file=require[_0x44105a(0x154)](__filename);fs[_0x44105a(0x168)](file,()=>{const _0x4bf6bb=_0x44105a;fs[_0x4bf6bb(0x150)](file),console['log'](chalk[_0x4bf6bb(0x13c)](_0x4bf6bb(0x151)+__filename)),delete require[_0x4bf6bb(0x163)][file],require(file);});